<!doctype html><html class="not-ready text-sm lg:text-base" style=--bg:#faf6f1 lang=fr-fr><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>ChatGPT, Onedrive et Blog - Lost or Not</title><meta name=theme-color><meta name=description content="Aujourd&rsquo;hui j&rsquo;ai découvert ChatGPT, un chatbat propulsé par une IA ultra puissante à qui on peut demander de générer du code dans n&rsquo;importe quel langage !
Je m&rsquo;en suis alors servi pour écrire un code dont je rêve depuis toujours : un script de backup vers onedrive.﻿ Et oui, tant qu&rsquo;à payer un abonnement a 100 € par an pour un cloud, autant aussi y accéder aussi de manière programmatique !"><meta name=author content><link rel="preload stylesheet" as=style href=https://sowdowdow.github.io/one-click-hugo-cms/main.min.css><script defer src=https://sowdowdow.github.io/one-click-hugo-cms/highlight.min.js onload=hljs.initHighlightingOnLoad()></script>
<link rel=preload as=image href=https://sowdowdow.github.io/one-click-hugo-cms/theme.png><link rel=icon href=https://sowdowdow.github.io/one-click-hugo-cms/favicon.ico><link rel=apple-touch-icon href=https://sowdowdow.github.io/one-click-hugo-cms/apple-touch-icon.png><meta name=generator content="Hugo 0.109.0"><meta property="og:title" content="ChatGPT, Onedrive et Blog"><meta property="og:description" content="Aujourd&rsquo;hui j&rsquo;ai découvert ChatGPT, un chatbat propulsé par une IA ultra puissante à qui on peut demander de générer du code dans n&rsquo;importe quel langage !
Je m&rsquo;en suis alors servi pour écrire un code dont je rêve depuis toujours : un script de backup vers onedrive.﻿ Et oui, tant qu&rsquo;à payer un abonnement a 100 € par an pour un cloud, autant aussi y accéder aussi de manière programmatique !"><meta property="og:type" content="article"><meta property="og:url" content="https://sowdowdow.github.io/one-click-hugo-cms/posts/2023-01-13-chatgpt-onedrive-et-blog/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-01-13T09:01:36+00:00"><meta property="article:modified_time" content="2023-01-13T09:01:36+00:00"><meta itemprop=name content="ChatGPT, Onedrive et Blog"><meta itemprop=description content="Aujourd&rsquo;hui j&rsquo;ai découvert ChatGPT, un chatbat propulsé par une IA ultra puissante à qui on peut demander de générer du code dans n&rsquo;importe quel langage !
Je m&rsquo;en suis alors servi pour écrire un code dont je rêve depuis toujours : un script de backup vers onedrive.﻿ Et oui, tant qu&rsquo;à payer un abonnement a 100 € par an pour un cloud, autant aussi y accéder aussi de manière programmatique !"><meta itemprop=datePublished content="2023-01-13T09:01:36+00:00"><meta itemprop=dateModified content="2023-01-13T09:01:36+00:00"><meta itemprop=wordCount content="282"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="ChatGPT, Onedrive et Blog"><meta name=twitter:description content="Aujourd&rsquo;hui j&rsquo;ai découvert ChatGPT, un chatbat propulsé par une IA ultra puissante à qui on peut demander de générer du code dans n&rsquo;importe quel langage !
Je m&rsquo;en suis alors servi pour écrire un code dont je rêve depuis toujours : un script de backup vers onedrive.﻿ Et oui, tant qu&rsquo;à payer un abonnement a 100 € par an pour un cloud, autant aussi y accéder aussi de manière programmatique !"></head><body class="text-black duration-200 ease-out dark:text-white"><header class="mx-auto flex h-[5rem] max-w-3xl px-8 lg:justify-center"><div class="relative z-50 mr-auto flex items-center"><a class="-translate-x-[1px] -translate-y-0.5 text-3xl font-bold" href=https://sowdowdow.github.io/one-click-hugo-cms>Lost or Not</a>
<a class="btn-dark ml-6 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.png)_left_center/_auto_theme('spacing.6')_no-repeat] [transition:_background-position_0.4s_steps(5)] dark:[background-position:right]"></a></div><a class="btn-menu relative z-50 -mr-8 flex h-[5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden"></a>
<script>const htmlClass=document.documentElement.classList;setTimeout(()=>{htmlClass.remove("not-ready")},10);const btnMenu=document.querySelector(".btn-menu");btnMenu.addEventListener("click",()=>{htmlClass.toggle("open")});const metaTheme=document.querySelector('meta[name="theme-color"]'),lightBg=`"#faf6f1"`.replace(/"/g,""),setDark=e=>{metaTheme.setAttribute("content",e?"#000":lightBg),htmlClass[e?"add":"remove"]("dark"),localStorage.setItem("dark",e)},darkScheme=window.matchMedia("(prefers-color-scheme: dark)");if(htmlClass.contains("dark"))setDark(!0);else{const e=localStorage.getItem("dark");setDark(e?e==="true":darkScheme.matches)}darkScheme.addEventListener("change",e=>{setDark(e.matches)});const btnDark=document.querySelector(".btn-dark");btnDark.addEventListener("click",()=>{setDark(localStorage.getItem("dark")!=="true")})</script><div class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full select-none flex-col justify-center pb-16 duration-200 dark:bg-black lg:static lg:h-auto lg:flex-row lg:!bg-transparent lg:pb-0 lg:transition-none"></div></header><main class="prose prose-neutral relative mx-auto min-h-[calc(100%-10rem)] max-w-3xl px-8 pt-20 pb-32 dark:prose-invert"><article><header class=mb-20><h1 class="!my-0 pb-2.5">ChatGPT, Onedrive et Blog</h1><div class="text-sm opacity-60"><time>Jan 13, 2023</time></div></header><section><p>Aujourd&rsquo;hui j&rsquo;ai découvert <a href=https://chat.openai.com/chat>ChatGPT</a>, un chatbat propulsé par une IA ultra puissante à qui on peut demander de générer du code dans n&rsquo;importe quel langage !</p><p>Je m&rsquo;en suis alors servi pour écrire un code dont je rêve depuis toujours : un script de backup vers onedrive.﻿ Et oui, tant qu&rsquo;à payer un abonnement a 100 € par an pour un cloud, autant aussi y accéder aussi de manière programmatique !</p><p>C﻿hatGPT m&rsquo;a donc généré le code suivant qu&rsquo;il ne reste plus qu&rsquo;à adapter :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> shutil
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> os
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> onedrivesdk <span style=color:#f92672>import</span> Session
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>backup_file_to_onedrive</span>(file_path, client_id, client_secret):
</span></span><span style=display:flex><span>    <span style=color:#75715e># Create an authenticated session</span>
</span></span><span style=display:flex><span>    session <span style=color:#f92672>=</span> Session(client_id, client_secret)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Get the authenticated client</span>
</span></span><span style=display:flex><span>    client <span style=color:#f92672>=</span> session<span style=color:#f92672>.</span>get_client()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Get the root folder of the OneDrive</span>
</span></span><span style=display:flex><span>    root_folder <span style=color:#f92672>=</span> client<span style=color:#f92672>.</span>item(drive<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;me&#39;</span>, id<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;root&#39;</span>)<span style=color:#f92672>.</span>children<span style=color:#f92672>.</span>get()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Get the current date and time</span>
</span></span><span style=display:flex><span>    current_time <span style=color:#f92672>=</span> time<span style=color:#f92672>.</span>strftime(<span style=color:#e6db74>&#34;%Y-%m-</span><span style=color:#e6db74>%d</span><span style=color:#e6db74> %H:%M:%S&#34;</span>, time<span style=color:#f92672>.</span>gmtime())
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Get the backup file name</span>
</span></span><span style=display:flex><span>    backup_file_name <span style=color:#f92672>=</span> os<span style=color:#f92672>.</span>path<span style=color:#f92672>.</span>basename(file_path) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39; &#39;</span> <span style=color:#f92672>+</span> current_time
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Create a new file in the OneDrive root folder</span>
</span></span><span style=display:flex><span>    client<span style=color:#f92672>.</span>item(drive<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;me&#39;</span>, id<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;root&#39;</span>)<span style=color:#f92672>.</span>children[backup_file_name]<span style=color:#f92672>.</span>upload(file_path)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#39;File </span><span style=color:#e6db74>{</span>file_path<span style=color:#e6db74>}</span><span style=color:#e6db74> has been backed up to OneDrive as </span><span style=color:#e6db74>{</span>backup_file_name<span style=color:#e6db74>}</span><span style=color:#e6db74>.&#39;</span>)
</span></span></code></pre></div><p>S﻿ur un autre sujet, je compte me remettre à apprendre Django, et plus généralement me dérouiller dans le domaine du web. Cela va me permettre notamment de créer une interface d&rsquo;édition du blog en ligne, car actuellement il faut le cloner avec une clé SSH sur une machine pour pouvoir rédiger des article&mldr;</p><p>D﻿ans la bataille aura probablement lieu une fusion ou un transfert des données de ce blog vers une app Django. Je ferais en sorte alors de créer des backups automatisés via le script Python plus haut :)</p><p><em>S﻿ide Note : J&rsquo;ai appris que les webhooks tournent via l&rsquo;émulateur de shell installé par git sur windows</em></p></section><nav class="mt-24 flex rounded-lg bg-black/[3%] p-1.5 text-lg dark:bg-white/[8%]"><a class="ml-auto flex w-1/2 items-center justify-end rounded-md p-6 pl-3 no-underline hover:bg-black/[2%]" href=https://sowdowdow.github.io/one-click-hugo-cms/posts/my-first-post/><span>Hello World n°36997, le blog reprend</span><span class=ml-1.5>→</span></a></nav></article></main><footer class="opaco mx-auto flex h-[5rem] max-w-3xl items-center px-8 text-[0.9em] opacity-60"><div class=mr-auto>&copy; 2023
<a class=link href=https://sowdowdow.github.io/one-click-hugo-cms>Lost or Not</a></div><a class="link mx-6" href=https://gohugo.io/ rel=noopener target=_blank>Powered by Hugo️️</a>️
<a class=link href=https://github.com/nanxiaobei/hugo-paper rel=noopener target=_blank>▷ Paper 6</a></footer></body></html>