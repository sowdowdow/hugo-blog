<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>ChatGPT, Onedrive et Blog | SDRM</title><meta name=keywords content="chatGPT,onedrive,python"><meta name=description content="Aujourd&rsquo;hui j&rsquo;ai découvert ChatGPT, un chatbot propulsé par une IA ultra puissante à qui on peut demander de générer du code dans n&rsquo;importe quel langage !
Je m&rsquo;en suis alors servi pour écrire un code dont je rêve depuis toujours : un script de backup vers onedrive.﻿ Et oui, tant qu&rsquo;à payer un abonnement a 100 € par an pour un cloud, autant aussi y accéder aussi de manière programmatique !"><meta name=author content><link rel=canonical href=https://sowdowdow.github.io/one-click-hugo-cms/posts/2023-01-13-chatgpt-onedrive-et-blog/><link crossorigin=anonymous href=/one-click-hugo-cms/assets/css/stylesheet.bccfefac377bc340f06c260aed1bddf49a4354816d7c570d6aac75a997986c95.css integrity="sha256-vM/vrDd7w0DwbCYK7Rvd9JpDVIFtfFcNaqx1qZeYbJU=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/one-click-hugo-cms/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://sowdowdow.github.io/one-click-hugo-cms/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://sowdowdow.github.io/one-click-hugo-cms/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://sowdowdow.github.io/one-click-hugo-cms/favicon-32x32.png><link rel=apple-touch-icon href=https://sowdowdow.github.io/one-click-hugo-cms/apple-touch-icon.png><link rel=mask-icon href=https://sowdowdow.github.io/one-click-hugo-cms/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="ChatGPT, Onedrive et Blog"><meta property="og:description" content="Aujourd&rsquo;hui j&rsquo;ai découvert ChatGPT, un chatbot propulsé par une IA ultra puissante à qui on peut demander de générer du code dans n&rsquo;importe quel langage !
Je m&rsquo;en suis alors servi pour écrire un code dont je rêve depuis toujours : un script de backup vers onedrive.﻿ Et oui, tant qu&rsquo;à payer un abonnement a 100 € par an pour un cloud, autant aussi y accéder aussi de manière programmatique !"><meta property="og:type" content="article"><meta property="og:url" content="https://sowdowdow.github.io/one-click-hugo-cms/posts/2023-01-13-chatgpt-onedrive-et-blog/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-01-13T09:01:36+00:00"><meta property="article:modified_time" content="2023-01-13T09:01:36+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="ChatGPT, Onedrive et Blog"><meta name=twitter:description content="Aujourd&rsquo;hui j&rsquo;ai découvert ChatGPT, un chatbot propulsé par une IA ultra puissante à qui on peut demander de générer du code dans n&rsquo;importe quel langage !
Je m&rsquo;en suis alors servi pour écrire un code dont je rêve depuis toujours : un script de backup vers onedrive.﻿ Et oui, tant qu&rsquo;à payer un abonnement a 100 € par an pour un cloud, autant aussi y accéder aussi de manière programmatique !"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://sowdowdow.github.io/one-click-hugo-cms/posts/"},{"@type":"ListItem","position":3,"name":"ChatGPT, Onedrive et Blog","item":"https://sowdowdow.github.io/one-click-hugo-cms/posts/2023-01-13-chatgpt-onedrive-et-blog/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"ChatGPT, Onedrive et Blog","name":"ChatGPT, Onedrive et Blog","description":"Aujourd\u0026rsquo;hui j\u0026rsquo;ai découvert ChatGPT, un chatbot propulsé par une IA ultra puissante à qui on peut demander de générer du code dans n\u0026rsquo;importe quel langage !\nJe m\u0026rsquo;en suis alors servi pour écrire un code dont je rêve depuis toujours : un script de backup vers onedrive.﻿ Et oui, tant qu\u0026rsquo;à payer un abonnement a 100 € par an pour un cloud, autant aussi y accéder aussi de manière programmatique !","keywords":["chatGPT","onedrive","python"],"articleBody":"Aujourd’hui j’ai découvert ChatGPT, un chatbot propulsé par une IA ultra puissante à qui on peut demander de générer du code dans n’importe quel langage !\nJe m’en suis alors servi pour écrire un code dont je rêve depuis toujours : un script de backup vers onedrive.﻿ Et oui, tant qu’à payer un abonnement a 100 € par an pour un cloud, autant aussi y accéder aussi de manière programmatique !\nC﻿hatGPT m’a donc généré le code suivant qu’il ne reste plus qu’à adapter :\nimport shutil import os from onedrivesdk import Session def backup_file_to_onedrive(file_path, client_id, client_secret): # Create an authenticated session session = Session(client_id, client_secret) # Get the authenticated client client = session.get_client() # Get the root folder of the OneDrive root_folder = client.item(drive='me', id='root').children.get() # Get the current date and time current_time = time.strftime(\"%Y-%m-%d %H:%M:%S\", time.gmtime()) # Get the backup file name backup_file_name = os.path.basename(file_path) + ' ' + current_time # Create a new file in the OneDrive root folder client.item(drive='me', id='root').children[backup_file_name].upload(file_path) print(f'File {file_path} has been backed up to OneDrive as {backup_file_name}.') S﻿ur un autre sujet, je compte me remettre à apprendre Django, et plus généralement me dérouiller dans le domaine du web. Cela va me permettre notamment de créer une interface d’édition du blog en ligne, car actuellement il faut le cloner avec une clé SSH sur une machine pour pouvoir rédiger des article…\nD﻿ans la bataille aura probablement lieu une fusion ou un transfert des données de ce blog vers une app Django. Je ferais en sorte alors de créer des backups automatisés via le script Python plus haut :)\nS﻿ide Note : J’ai appris que les webhooks tournent via l’émulateur de shell installé par git sur windows\n","wordCount":"282","inLanguage":"en","datePublished":"2023-01-13T09:01:36.002Z","dateModified":"2023-01-13T09:01:36.002Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://sowdowdow.github.io/one-click-hugo-cms/posts/2023-01-13-chatgpt-onedrive-et-blog/"},"publisher":{"@type":"Organization","name":"SDRM","logo":{"@type":"ImageObject","url":"https://sowdowdow.github.io/one-click-hugo-cms/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://sowdowdow.github.io/one-click-hugo-cms accesskey=h title="SDRM (Alt + H)">SDRM</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://sowdowdow.github.io/one-click-hugo-cms/posts title=Posts><span><i class='fa fa-heart'></i>Posts</span></a></li><li><a href=https://sowdowdow.github.io/one-click-hugo-cms/about/about/ title=About><span><i class='fa fa-heart'></i>About</span></a></li><li><a href=https://sowdowdow.github.io/one-click-hugo-cms/tags/ title=Tags><span><i class='fa fa-heart'></i>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>ChatGPT, Onedrive et Blog</h1><div class=post-meta><span title='2023-01-13 09:01:36.002 +0000 UTC'>January 13, 2023</span></div></header><div class=post-content><p>Aujourd&rsquo;hui j&rsquo;ai découvert <a href=https://chat.openai.com/chat>ChatGPT</a>, un chatbot propulsé par une IA ultra puissante à qui on peut demander de générer du code dans n&rsquo;importe quel langage !</p><p>Je m&rsquo;en suis alors servi pour écrire un code dont je rêve depuis toujours : un script de backup vers onedrive.﻿ Et oui, tant qu&rsquo;à payer un abonnement a 100 € par an pour un cloud, autant aussi y accéder aussi de manière programmatique !</p><p>C﻿hatGPT m&rsquo;a donc généré le code suivant qu&rsquo;il ne reste plus qu&rsquo;à adapter :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> shutil
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> os
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> onedrivesdk <span style=color:#f92672>import</span> Session
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>backup_file_to_onedrive</span>(file_path, client_id, client_secret):
</span></span><span style=display:flex><span>    <span style=color:#75715e># Create an authenticated session</span>
</span></span><span style=display:flex><span>    session <span style=color:#f92672>=</span> Session(client_id, client_secret)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Get the authenticated client</span>
</span></span><span style=display:flex><span>    client <span style=color:#f92672>=</span> session<span style=color:#f92672>.</span>get_client()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Get the root folder of the OneDrive</span>
</span></span><span style=display:flex><span>    root_folder <span style=color:#f92672>=</span> client<span style=color:#f92672>.</span>item(drive<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;me&#39;</span>, id<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;root&#39;</span>)<span style=color:#f92672>.</span>children<span style=color:#f92672>.</span>get()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Get the current date and time</span>
</span></span><span style=display:flex><span>    current_time <span style=color:#f92672>=</span> time<span style=color:#f92672>.</span>strftime(<span style=color:#e6db74>&#34;%Y-%m-</span><span style=color:#e6db74>%d</span><span style=color:#e6db74> %H:%M:%S&#34;</span>, time<span style=color:#f92672>.</span>gmtime())
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Get the backup file name</span>
</span></span><span style=display:flex><span>    backup_file_name <span style=color:#f92672>=</span> os<span style=color:#f92672>.</span>path<span style=color:#f92672>.</span>basename(file_path) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39; &#39;</span> <span style=color:#f92672>+</span> current_time
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Create a new file in the OneDrive root folder</span>
</span></span><span style=display:flex><span>    client<span style=color:#f92672>.</span>item(drive<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;me&#39;</span>, id<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;root&#39;</span>)<span style=color:#f92672>.</span>children[backup_file_name]<span style=color:#f92672>.</span>upload(file_path)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#39;File </span><span style=color:#e6db74>{</span>file_path<span style=color:#e6db74>}</span><span style=color:#e6db74> has been backed up to OneDrive as </span><span style=color:#e6db74>{</span>backup_file_name<span style=color:#e6db74>}</span><span style=color:#e6db74>.&#39;</span>)
</span></span></code></pre></div><p>S﻿ur un autre sujet, je compte me remettre à apprendre Django, et plus généralement me dérouiller dans le domaine du web. Cela va me permettre notamment de créer une interface d&rsquo;édition du blog en ligne, car actuellement il faut le cloner avec une clé SSH sur une machine pour pouvoir rédiger des article&mldr;</p><p>D﻿ans la bataille aura probablement lieu une fusion ou un transfert des données de ce blog vers une app Django. Je ferais en sorte alors de créer des backups automatisés via le script Python plus haut :)</p><p><em>S﻿ide Note : J&rsquo;ai appris que les webhooks tournent via l&rsquo;émulateur de shell installé par git sur windows</em></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://sowdowdow.github.io/one-click-hugo-cms/tags/chatgpt/>chatGPT</a></li><li><a href=https://sowdowdow.github.io/one-click-hugo-cms/tags/onedrive/>onedrive</a></li><li><a href=https://sowdowdow.github.io/one-click-hugo-cms/tags/python/>python</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://sowdowdow.github.io/one-click-hugo-cms>SDRM</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>