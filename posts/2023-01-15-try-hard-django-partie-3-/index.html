<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Try Hard Django Partie 3 🐍 | SDRM</title><meta name=keywords content="python,django,tryhard"><meta name=description content="Partie 6 - Fichiers statiques Finalement la partie 6 du tutoriel django était assez simple, j&rsquo;avais juste besoin de redémarrer le serveur. 😋
Partie 7 - Formulaire Dans cette partie, on plonge dans les formulaires et la customisation de la vue d&rsquo;administration. on y découvre comment rajouter un champ de recherche search_fields, un filtrage sur la date list_filter, mais aussi, et le plus important : l&rsquo;inlining.
Inlining L&rsquo;inlining permet de créer des sous-objets d&rsquo;un objet directement dans la même vue."><meta name=author content><link rel=canonical href=https://sowdowdow.github.io/one-click-hugo-cms/posts/2023-01-15-try-hard-django-partie-3-/><link crossorigin=anonymous href=/one-click-hugo-cms/assets/css/stylesheet.bccfefac377bc340f06c260aed1bddf49a4354816d7c570d6aac75a997986c95.css integrity="sha256-vM/vrDd7w0DwbCYK7Rvd9JpDVIFtfFcNaqx1qZeYbJU=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/one-click-hugo-cms/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://sowdowdow.github.io/one-click-hugo-cms/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://sowdowdow.github.io/one-click-hugo-cms/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://sowdowdow.github.io/one-click-hugo-cms/favicon-32x32.png><link rel=apple-touch-icon href=https://sowdowdow.github.io/one-click-hugo-cms/apple-touch-icon.png><link rel=mask-icon href=https://sowdowdow.github.io/one-click-hugo-cms/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Try Hard Django Partie 3 🐍"><meta property="og:description" content="Partie 6 - Fichiers statiques Finalement la partie 6 du tutoriel django était assez simple, j&rsquo;avais juste besoin de redémarrer le serveur. 😋
Partie 7 - Formulaire Dans cette partie, on plonge dans les formulaires et la customisation de la vue d&rsquo;administration. on y découvre comment rajouter un champ de recherche search_fields, un filtrage sur la date list_filter, mais aussi, et le plus important : l&rsquo;inlining.
Inlining L&rsquo;inlining permet de créer des sous-objets d&rsquo;un objet directement dans la même vue."><meta property="og:type" content="article"><meta property="og:url" content="https://sowdowdow.github.io/one-click-hugo-cms/posts/2023-01-15-try-hard-django-partie-3-/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-01-15T17:48:25+01:00"><meta property="article:modified_time" content="2023-01-15T17:48:25+01:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Try Hard Django Partie 3 🐍"><meta name=twitter:description content="Partie 6 - Fichiers statiques Finalement la partie 6 du tutoriel django était assez simple, j&rsquo;avais juste besoin de redémarrer le serveur. 😋
Partie 7 - Formulaire Dans cette partie, on plonge dans les formulaires et la customisation de la vue d&rsquo;administration. on y découvre comment rajouter un champ de recherche search_fields, un filtrage sur la date list_filter, mais aussi, et le plus important : l&rsquo;inlining.
Inlining L&rsquo;inlining permet de créer des sous-objets d&rsquo;un objet directement dans la même vue."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://sowdowdow.github.io/one-click-hugo-cms/posts/"},{"@type":"ListItem","position":3,"name":"Try Hard Django Partie 3 🐍","item":"https://sowdowdow.github.io/one-click-hugo-cms/posts/2023-01-15-try-hard-django-partie-3-/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Try Hard Django Partie 3 🐍","name":"Try Hard Django Partie 3 🐍","description":"Partie 6 - Fichiers statiques Finalement la partie 6 du tutoriel django était assez simple, j\u0026rsquo;avais juste besoin de redémarrer le serveur. 😋\nPartie 7 - Formulaire Dans cette partie, on plonge dans les formulaires et la customisation de la vue d\u0026rsquo;administration. on y découvre comment rajouter un champ de recherche search_fields, un filtrage sur la date list_filter, mais aussi, et le plus important : l\u0026rsquo;inlining.\nInlining L\u0026rsquo;inlining permet de créer des sous-objets d\u0026rsquo;un objet directement dans la même vue.","keywords":["python","django","tryhard"],"articleBody":"Partie 6 - Fichiers statiques Finalement la partie 6 du tutoriel django était assez simple, j’avais juste besoin de redémarrer le serveur. 😋\nPartie 7 - Formulaire Dans cette partie, on plonge dans les formulaires et la customisation de la vue d’administration. on y découvre comment rajouter un champ de recherche search_fields, un filtrage sur la date list_filter, mais aussi, et le plus important : l’inlining.\nInlining L’inlining permet de créer des sous-objets d’un objet directement dans la même vue. Par exemple créer les réponses à une question dans le même formulaire. pour ce faire on rajoute le champ inlines dans le ModelAdmin.\nclass QuestionAdmin(admin.ModelAdmin): fieldsets = [ (None, {'fields': ['question_text']}), ('Date Information', {'fields': ['pub_date']}) ] inlines = [ChoiceInline] # \u003c--------- list_display = [\"question_text\", \"pub_date\", \"was_published_recently\"] list_filter = ['pub_date'] search_fields = ['question_text'] celui-ci est lié a une classe qui lie un model avec un inline.\nclass ChoiceInline(admin.TabularInline): model = Choice extra = 1 Pour terminer, cette partie quatre montre aussi comment surcharger le gabarit (template) d’une vue d’administration.\nHors tuto : vues génériques N’ayant pas tout vue des vues (haha…) j’ai décidé de pousser un peu plus loin l’apprentissage des vues génériques.\nJ’y découvre alors qu’il est possible de créer des “vues sans vue”. On défini uniquement un pointage de urls.py vers un template HTML.\nPour accélérer le développement il est également possible d’utiliser des vues très basiques de CRUD. Voici un exemple :\nfrom django.views import generic class CreateView(generic.CreateView): model = Question fields = ['question_text', 'pub_date'] class EditView(generic.edit.UpdateView): model = Question fields = ['question_text'] Ces deux vues nécéssitent tout de même la création d’un template dans polls/templates/polls/question_form.html.\nIl est également important de noter que les autres vues génériques vont chercher un template avec un nom par défaut, sinon il faut le préciser via la propriété template_name (ex. template_name = 'polls/index.html').\nConclusion Il me reste maintenant à voir l’authentification et je devrais être capable de réécrire le blog en Django. 💪\n","wordCount":"321","inLanguage":"en","datePublished":"2023-01-15T17:48:25+01:00","dateModified":"2023-01-15T17:48:25+01:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://sowdowdow.github.io/one-click-hugo-cms/posts/2023-01-15-try-hard-django-partie-3-/"},"publisher":{"@type":"Organization","name":"SDRM","logo":{"@type":"ImageObject","url":"https://sowdowdow.github.io/one-click-hugo-cms/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://sowdowdow.github.io/one-click-hugo-cms accesskey=h title="SDRM (Alt + H)">SDRM</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://sowdowdow.github.io/one-click-hugo-cms/posts title=Posts><span>Posts</span></a></li><li><a href=https://sowdowdow.github.io/one-click-hugo-cms/search/ title="Rechercher 🔎 (Alt + /)" accesskey=/><span>Rechercher 🔎</span></a></li><li><a href=https://sowdowdow.github.io/one-click-hugo-cms/roadmap/roadmap title=Roadmap><span>Roadmap</span></a></li><li><a href=https://sowdowdow.github.io/one-click-hugo-cms/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://sowdowdow.github.io/one-click-hugo-cms/about/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Try Hard Django Partie 3 🐍</h1><div class=post-meta><span title='2023-01-15 17:48:25 +0100 +0100'>January 15, 2023</span>&nbsp;·&nbsp;321 words</div></header><div class=post-content><h2 id=partie-6---fichiers-statiques>Partie 6 - Fichiers statiques<a hidden class=anchor aria-hidden=true href=#partie-6---fichiers-statiques>#</a></h2><p>Finalement la partie 6 du tutoriel django était assez simple, j&rsquo;avais juste besoin de redémarrer le serveur. 😋</p><h2 id=partie-7---formulaire>Partie 7 - Formulaire<a hidden class=anchor aria-hidden=true href=#partie-7---formulaire>#</a></h2><p>Dans cette partie, on plonge dans les formulaires et la customisation de la vue d&rsquo;administration. on y découvre comment rajouter un champ de recherche <code>search_fields</code>, un filtrage sur la date <code>list_filter</code>, mais aussi, et le plus important : l&rsquo;inlining.</p><h3 id=inlining>Inlining<a hidden class=anchor aria-hidden=true href=#inlining>#</a></h3><p>L&rsquo;inlining permet de créer des sous-objets d&rsquo;un objet directement dans la même vue. Par exemple créer les réponses à une question dans le même formulaire. pour ce faire on rajoute le champ <code>inlines</code> dans le ModelAdmin.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>QuestionAdmin</span>(admin<span style=color:#f92672>.</span>ModelAdmin):
</span></span><span style=display:flex><span>    fieldsets <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>        (<span style=color:#66d9ef>None</span>, {<span style=color:#e6db74>&#39;fields&#39;</span>: [<span style=color:#e6db74>&#39;question_text&#39;</span>]}),
</span></span><span style=display:flex><span>        (<span style=color:#e6db74>&#39;Date Information&#39;</span>, {<span style=color:#e6db74>&#39;fields&#39;</span>: [<span style=color:#e6db74>&#39;pub_date&#39;</span>]})
</span></span><span style=display:flex><span>    ]
</span></span><span style=display:flex><span>    inlines <span style=color:#f92672>=</span> [ChoiceInline] <span style=color:#75715e># &lt;---------</span>
</span></span><span style=display:flex><span>    list_display <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#34;question_text&#34;</span>, <span style=color:#e6db74>&#34;pub_date&#34;</span>, <span style=color:#e6db74>&#34;was_published_recently&#34;</span>]
</span></span><span style=display:flex><span>    list_filter <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#39;pub_date&#39;</span>]
</span></span><span style=display:flex><span>    search_fields <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#39;question_text&#39;</span>]
</span></span></code></pre></div><p>celui-ci est lié a une classe qui lie un model avec un inline.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ChoiceInline</span>(admin<span style=color:#f92672>.</span>TabularInline):
</span></span><span style=display:flex><span>    model <span style=color:#f92672>=</span> Choice
</span></span><span style=display:flex><span>    extra <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>
</span></span></code></pre></div><p>Pour terminer, cette partie quatre montre aussi comment surcharger le gabarit (template) d&rsquo;une vue d&rsquo;administration.</p><h2 id=hors-tuto--vues-génériques>Hors tuto : vues génériques<a hidden class=anchor aria-hidden=true href=#hors-tuto--vues-génériques>#</a></h2><p>N&rsquo;ayant pas tout vue des vues (haha&mldr;) j&rsquo;ai décidé de pousser un peu plus loin l&rsquo;apprentissage des vues génériques.</p><p>J&rsquo;y découvre alors qu&rsquo;il est possible de créer des &ldquo;vues sans vue&rdquo;. On défini uniquement un pointage de urls.py vers un template HTML.</p><p>Pour accélérer le développement il est également possible d&rsquo;utiliser des vues très basiques de CRUD. Voici un exemple :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> django.views <span style=color:#f92672>import</span> generic
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>CreateView</span>(generic<span style=color:#f92672>.</span>CreateView):
</span></span><span style=display:flex><span>    model <span style=color:#f92672>=</span> Question
</span></span><span style=display:flex><span>    fields <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#39;question_text&#39;</span>, <span style=color:#e6db74>&#39;pub_date&#39;</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>EditView</span>(generic<span style=color:#f92672>.</span>edit<span style=color:#f92672>.</span>UpdateView):
</span></span><span style=display:flex><span>    model <span style=color:#f92672>=</span> Question
</span></span><span style=display:flex><span>    fields <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#39;question_text&#39;</span>]
</span></span></code></pre></div><p>Ces deux vues nécéssitent tout de même la création d&rsquo;un template dans <code>polls/templates/polls/question_form.html</code>.</p><p>Il est également important de noter que les autres vues génériques vont chercher un template avec un nom par défaut, sinon il faut le préciser via la propriété <code>template_name</code> (ex. <code>template_name = 'polls/index.html'</code>).</p><h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2><p>Il me reste maintenant à voir l&rsquo;authentification et je devrais être capable de réécrire le blog en Django. 💪</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://sowdowdow.github.io/one-click-hugo-cms/tags/python/>python</a></li><li><a href=https://sowdowdow.github.io/one-click-hugo-cms/tags/django/>django</a></li><li><a href=https://sowdowdow.github.io/one-click-hugo-cms/tags/tryhard/>tryhard</a></li></ul><nav class=paginav><a class=next href=https://sowdowdow.github.io/one-click-hugo-cms/posts/2023-01-15-try-hard-django-partie-2-/><span class=title>Next »</span><br><span>Try Hard Django Partie 2 🐍</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://sowdowdow.github.io/one-click-hugo-cms>SDRM</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>